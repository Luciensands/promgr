<div class="div6 me-5 mb-4 p-3 boxes">
  <div class="col p-0">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="text-white mb-0">My Tasks List</h5>
      <div>
        <button type="button" class="btn btn-button-color" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample"><i class="fa-solid fa-plus"></i> Add Task</button>
        <%= render 'users/addtaskform' %>
      </div>
    </div>
    <div class="text-light">
      <div class="container d-flex flex-column gap-3">
        <% @tasks.order(:due_date).each do |task| %>
          <%= render 'tasks/edittaskform', task: task %>
          <div class="row rounded text-dark bg-light">
            <div class="col d-flex align-items-center justify-content-between p-1">
              <div>
                <div><b><%= task.task_title %></b></div>
                <div>Due: <%= task.due_date.to_s.split(" ")[0] %> &nbsp; <%= task.status %></div>
              </div>
              <div>
                <button class="btn btn-dark rounded-circle" data-bs-toggle="offcanvas" data-bs-target=<%= "#taskmodel#{task.id}" %> aria-controls="offcanvasExample"><i class="fa-solid fa-pen"></i></button>
                <%= link_to task_path(task), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-dark rounded-circle" do %>
                  <i class="fa-solid fa-trash-can"></i>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
